<!--The content below is only a placeholder and can be replaced.-->
<div class="logo">
  <img width="300" alt="Angular Logo" src="https://static1.squarespace.com/static/52fc05c9e4b08fc45bd99090/5331dfe2e4b0f77da2ddde51/59ea491b6957da87771f8d48/1508527334950/102017-conquest-fightforbanner-1024x576.jpg?format=1500w">
</div>

<mat-tab-group>


  <mat-tab label="ngFor">
    <h2>
      Utiliser ngFor pour lister les personnages
    </h2>
    <h3>
      Utiliser l'opérateur ternaire pour afficher "name" ou "alias" :
    </h3>
    <mat-grid-list cols="7" rowHeight="2:1" gutterSize="20px">
      <mat-grid-tile *ngFor="let character of characters">
        <div class="char-card">
          {{ character.name?character.name:character.aliases[0] }}
        </div>
      </mat-grid-tile>
    </mat-grid-list>
  </mat-tab>

  <mat-tab label="ngClass">
    <h2>
      Utiliser ngClass pour mettre en italic les femmes
    </h2>
    <mat-grid-list cols="7" rowHeight="2:1" gutterSize="20px">
      <mat-grid-tile *ngFor="let character of characters">
        <div class="char-card" [ngClass]="{'female': character.isFemale}">
          {{ character.name?character.name:character.aliases[0] }}
        </div>
      </mat-grid-tile>
    </mat-grid-list>
  </mat-tab>

  <mat-tab label="ngTemplate">
    <h2>Mettre setTimeout pour simuler une requête http un peu longue </h2>
    <h3>Utiliser ngTemplate pour afficher un spinner</h3>
    <p>
      <button mat-raised-button color="primary" (click)="load()">Load characters</button>
    </p>
    <ng-container *ngIf="!inProgress; else spinner">
      <mat-grid-list cols="7" rowHeight="2:1" gutterSize="20px">
        <mat-grid-tile *ngFor="let character of charactersAsync">
          <div [ngClass]="{'char-card': true, 'female': character.isFemale}">
            {{ character.name?character.name:character.aliases[0] }}
          </div>
        </mat-grid-tile>
      </mat-grid-list>
    </ng-container>
    <ng-template #spinner>
      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    </ng-template>
  </mat-tab>

  <mat-tab label="Component">
    <div style="display: flex">
      <div style="flex:3">
        <h3>Déplacer le code HTML et CSS à factoriser</h3>
        <h3>Appeler la balise
          <strong>app-</strong>characters-grid</h3>
        <h3>Ajout @Input pour la liste des personages </h3>
        <h3>Afficher le personnage sélectionné sans utiliser @Output</h3>
      </div>
      <div style="flex:1">
        <h1 class="selected-char">{{ state?.selected?.name }}</h1>
      </div>
    </div>
    <p>
      <button mat-raised-button color="primary" (click)="loadState()">Load characters</button>
    </p>
    <ng-container *ngIf="!inProgress; else spinner2">
      <app-characters-grid [state]="state"></app-characters-grid>
    </ng-container>
    <ng-template #spinner2>
      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    </ng-template>
  </mat-tab>

  <mat-tab label="Databinding">
    <div style="display: flex">
      <div style="flex:3">
        <h3>Importer FormsModule from '@angular/forms';</h3>
        <h3>"2way databinding": nom du personnage sélectionné sur un input avec [(ngModel)]</h3>
        <h3>Idem avec la propriété isFemale et des boutons radio: utiliser [ngModel], (change) et $event.value</h3>
      </div>
      <div style="flex:1" *ngIf="state?.selected as selectedChar">
        <mat-form-field>
          <input type="text" matInput [(ngModel)]="selectedChar.name">
        </mat-form-field>
        <mat-radio-group [ngModel]="selectedChar.isFemale" (change)="selectedChar.isFemale = $event.value">
          <mat-radio-button [value]="false">Male</mat-radio-button>
          <mat-radio-button [value]="true">Female</mat-radio-button>
        </mat-radio-group>
      </div>
    </div>
    <p>
      <button mat-raised-button color="primary" (click)="loadState()">Load characters</button>
    </p>
    <ng-container *ngIf="!inProgress; else spinner2">
      <app-characters-grid [state]="state"></app-characters-grid>
    </ng-container>
    <ng-template #spinner2>
      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    </ng-template>
  </mat-tab>


  <mat-tab label="Output">
      <div style="display: flex">
        <div style="flex:3">
          <h3>Mettre la carte du personnage dans un composant dédié</h3>
          <h3>"2way databinding": nom du personnage sélectionné sur un input avec [(ngModel)]</h3>
          <h3>Idem avec la propriété isFemale et des boutons radio: utiliser [ngModel], (change) et $event.value</h3>
        </div>
        <div style="flex:1" *ngIf="state?.selected as selectedChar">
          <mat-form-field>
            <input type="text" matInput [(ngModel)]="selectedChar.name">
          </mat-form-field>
          <mat-radio-group [ngModel]="selectedChar.isFemale" (change)="selectedChar.isFemale = $event.value">
            <mat-radio-button [value]="false">Male</mat-radio-button>
            <mat-radio-button [value]="true">Female</mat-radio-button>
          </mat-radio-group>
        </div>
      </div>
      <p>
        <button mat-raised-button color="primary" (click)="loadState()">Load characters</button>
      </p>
      <ng-container *ngIf="!inProgress; else spinner2">
        <app-characters-grid [state]="state"></app-characters-grid>
      </ng-container>
      <ng-template #spinner2>
        <mat-progress-bar mode="indeterminate"></mat-progress-bar>
      </ng-template>
    </mat-tab>
</mat-tab-group>