<!--The content below is only a placeholder and can be replaced.-->
<div class="logo">
  <img width="300" alt="Angular Logo" src="https://static1.squarespace.com/static/52fc05c9e4b08fc45bd99090/5331dfe2e4b0f77da2ddde51/59ea491b6957da87771f8d48/1508527334950/102017-conquest-fightforbanner-1024x576.jpg?format=1500w">
</div>

<mat-tab-group>


  <mat-tab label="ngFor">
    <h2>
      Utiliser ngFor pour lister les personnages
    </h2>
    <h3>
      Utiliser l'opérateur ternaire pour afficher "name" ou "alias" :
    </h3>
    <mat-grid-list cols="7" rowHeight="2:1" gutterSize="20px">
      <mat-grid-tile *ngFor="let character of characters">
        <div class="char-card">
          {{ character.name }}
        </div>
      </mat-grid-tile>
    </mat-grid-list>
  </mat-tab>

  <mat-tab label="ngClass">
    <h2>
      Utiliser ngClass pour mettre en italic les femmes
    </h2>
    <mat-grid-list cols="7" rowHeight="2:1" gutterSize="20px">
      <mat-grid-tile *ngFor="let character of characters">
        <div class="char-card" [ngClass]="{'female': character.isFemale}">
          {{ character.name }}
        </div>
      </mat-grid-tile>
    </mat-grid-list>
  </mat-tab>

  <mat-tab label="ngTemplate">
    <h2>Mettre setTimeout pour simuler une requête http un peu longue </h2>
    <h3>Utiliser ngTemplate pour afficher un spinner</h3>
    <p>
      <button mat-raised-button color="primary" (click)="load()">Load characters</button>
    </p>
    <ng-container *ngIf="!inProgress; else spinner">
      <mat-grid-list cols="7" rowHeight="2:1" gutterSize="20px">
        <mat-grid-tile *ngFor="let character of charactersAsync">
          <div [ngClass]="{'char-card': true, 'female': character.isFemale}">
            {{ character.name }}
          </div>
        </mat-grid-tile>
      </mat-grid-list>
    </ng-container>
    <ng-template #spinner>
      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    </ng-template>
  </mat-tab>

  <mat-tab label="Component">
    <div style="display: flex">
      <div style="flex:3">
        <h3>Déplacer le code HTML et CSS à factoriser</h3>
        <h3>Appeler la balise
          <strong>app-</strong>characters-grid</h3>
        <h3>Ajout @Input pour la liste des personages </h3>
        <h3>Afficher le personnage sélectionné sans utiliser @Output</h3>
      </div>
      <div class="selected-char-card" *ngIf="state1?.selected as selectedChar">
        <div class="selected-char">{{ selectedChar.name }}</div>
        <mat-radio-group [ngModel]="selectedChar.isFemale" ng-readonly="true">
            <mat-radio-button [value]="false">Male</mat-radio-button>
            <mat-radio-button [value]="true">Female</mat-radio-button>
        </mat-radio-group>        
      </div>
    </div>
    <p>
      <button mat-raised-button color="primary" (click)="loadState1()">Load characters</button>
    </p>
    <ng-container *ngIf="!inProgress; else spinner1">
      <app-characters-grid [state]="state1"></app-characters-grid>
    </ng-container>
    <ng-template #spinner1>
      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    </ng-template>
  </mat-tab>

  <mat-tab label="Databinding">
    <div style="display: flex">
      <div style="flex:3">
        <h3>Importer FormsModule from '@angular/forms';</h3>
        <h3>"2way databinding": nom du personnage sélectionné sur un input avec [(ngModel)]</h3>
        <h3>Pour la propriété isFemale et les boutons radio: utiliser (change) et $event.value</h3>
      </div>
      <div class="selected-char-card" *ngIf="state2?.selected as selectedChar">
        <mat-form-field>
          <input type="text" matInput [(ngModel)]="selectedChar.name">
        </mat-form-field>
        <mat-radio-group [ngModel]="selectedChar.isFemale" (change)="selectedChar.isFemale = $event.value">
          <mat-radio-button [value]="false">Male</mat-radio-button>
          <mat-radio-button [value]="true">Female</mat-radio-button>
        </mat-radio-group>
      </div>
    </div>
    <p>
      <button mat-raised-button color="primary" (click)="loadState2()">Load characters</button>
    </p>
    <ng-container *ngIf="!inProgress; else spinner2">
      <app-characters-grid [state]="state2"></app-characters-grid>
    </ng-container>
    <ng-template #spinner2>
      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    </ng-template>
  </mat-tab>


  <mat-tab label="@Output">
      <div style="display: flex">
        <div style="flex:3">
          <h3>Mettre la carte du personnage dans un composant dédié prenant un objet character</h3>
          <h3>Transformer le composant app-characters-grid pour ne plus passer le state, seulement les characters</h3>
          <h3></h3>
        </div>
        <div class="selected-char-card" *ngIf="state3?.selected as selectedChar">
          <app-character [character]="selectedChar"></app-character>
        </div>
      </div>
      <p>
        <button mat-raised-button color="primary" (click)="loadState3()">Load characters</button>
      </p>
      <ng-container *ngIf="!inProgress; else spinner3">
        <app-characters-grid-2 [characters]="state3.characters" (selectCharacter)="select3($event)"></app-characters-grid>
      </ng-container>
      <ng-template #spinner3>
        <mat-progress-bar mode="indeterminate"></mat-progress-bar>
      </ng-template>
    </mat-tab>
</mat-tab-group>